function close(){overlay.classList.remove("showOverlay"),feedback.classList.remove("showFeedback"),feedback.classList.remove("errorFeedback")}var overlay=document.querySelector(".overlay"),feedbackBtn=document.querySelector(".feedbackBtn"),feedback=document.querySelector(".feedback"),btnClose=document.querySelector(".feedback-btnClose"),form=document.querySelector(".feedbackForm"),fieldName=form.querySelector("[name=username]"),fieldMail=form.querySelector("[name=mail]"),fieldComment=form.querySelector("[name=response]"),storageName=localStorage.getItem("name"),storageMail=localStorage.getItem("mail")
overlay.addEventListener("click",function(){return close()}),window.addEventListener("keydown",function(e){if(27===e.keyCode&&(feedback.classList.contains("showFeedback")||overlay.classList.contains("showOverlay")))return close()}),feedbackBtn.addEventListener("click",function(e){e.preventDefault(),form.setAttribute("novalidate",!0),overlay.classList.add("showOverlay"),feedback.classList.add("showFeedback"),storageName?(fieldName.value=storageName,fieldMail.focus()):fieldName.focus(),storageMail?(fieldMail.value=storageMail,fieldComment.focus()):fieldName.focus()}),btnClose.addEventListener("click",function(e){return e.preventDefault(),close()}),form.addEventListener("submit",function(e){fieldName.value&&fieldMail.value?(localStorage.setItem("name",fieldName.value),localStorage.setItem("mail",fieldMail.value)):(e.preventDefault(),feedback.classList.remove("errorFeedback"),feedback.offsetWidth=feedback.offsetWidth,feedback.classList.add("errorFeedback"))})
