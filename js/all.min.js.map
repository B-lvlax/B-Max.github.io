{"version":3,"sources":["common.js","forms.js","map.js","preloader.js","sidebar.js","slider.js"],"names":[],"mappings":"AAAA;ACAA;ACAA;ACAA;ACAA;ACAA","file":"all.min.js","sourcesContent":["var isMobile = {\n  android: function android() {\n    return navigator.userAgent.match(/Android/i);\n  },\n  blackberry: function blackberry() {\n    return navigator.userAgent.match(/BlackBerry/i);\n  },\n  ios: function ios() {\n    return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n  },\n  opera: function opera() {\n    return navigator.userAgent.match(/Opera Mini/i) || navigator.userAgent.match(/opr/i) && typeof window.orientation !== \"undefined\";\n  },\n  windows: function windows() {\n    return navigator.userAgent.match(/IEMobile/i);\n  },\n  any: function any() {\n    return isMobile.android() || isMobile.blackberry() || isMobile.ios() || isMobile.opera() || isMobile.windows();\n  }\n};\n\n\n/*======================================================\n  FLIP CARD\n======================================================*/\n(function() {\n  function flipCard() {\n    $('.flip-card').toggleClass('flipCard');\n    $('.flip-entry').toggleClass('flipEntry');\n    $('.login-btn').toggleClass('login-btn--hidden');\n  }\n\n  $(document).on('keyup', function(e) {\n    if (e.keyCode === 27) flipCard();\n  });\n\n  $('.login-btn, .entryBtn-item--left').each(function() {\n    $(this).on('click', function(e) {\n      e.preventDefault();\n      flipCard();\n    });\n  });\n\n})();\n\n\n/*======================================================\n  MENU\n======================================================*/\n(function() {\n  function close() {\n    $('.menu').removeClass('menu--active');\n    $('.nav').removeClass('nav--active');\n    $('.nav-item').removeClass('nav-item--show');\n    $('.menu-lines').removeClass('menu-lines--act');\n  };\n\n  $('.menu-btn').on('click', function(e) {\n    e.preventDefault();\n    $('.menu').toggleClass('menu--active');\n    $('.nav').toggleClass('nav--active');\n    $('.nav-item').toggleClass('nav-item--show');\n    $('.menu-lines').toggleClass('menu-lines--act');\n  });\n\n  $(document).on('keyup', function(ep) {\n    if (ep.keyCode == 27) close();\n  });\n\n  $(document).click(function(e) {\n    if ($(e.target).parents().filter('.menu').length != 1 && !$(e.target).hasClass('.menu-btn')) {\n      close();\n    }\n  });\n})();\n\n\n/*======================================================\n  Типо PARRALAX\n======================================================*/\n(function() {\n  $('.container').mousemove(function(e) {\n    if (!isMobile.any()) {\n      $('.indexBg-img').css({\n        'transform': 'translate3d(' + e.pageX / -15 + 'px, ' + e.pageY / 15 + 'px, 0)'\n      });\n    }\n  });\n})();\n\n\n/*======================================================\n  ANIMATION on Scroll\n======================================================*/\n(function() {\n  $(window).scroll(function() {\n    $('.blogContent article, .skills-group, .slider-info--active, .slider-slidePic, .feedback-titleWrap, .comments, .about-img, .feedbackForm-wrap').each(function(i) {\n      var\n        $pos = $(this).offset().top,\n        $topOfWindow = $(window).scrollTop();\n\n      $(this).addClass('moveUp--hidden');\n\n      if ($pos < $topOfWindow * 3) {\n        $(this).removeClass('moveUp--hidden').addClass('moveUp');\n      }\n    });\n  });\n})();\n\n\n/*======================================================\n  Adding smoothyness to buttons for scrolling up/down\n======================================================*/\n(function() {\n  $('.header-arrowDown, .arrowUp').on('click', function(e) {\n    e.preventDefault();\n    var $elemPos = $('#toBottom').offset().top;\n\n    if ($(this).is('.arrowUp')) $elemPos = 0;\n\n    $('body, html').animate({\n      scrollTop: $elemPos\n    }, 500);\n  });\n})();\n\n\n/*======================================================\n  Fix video background for Opera Mini\n======================================================*/\n(function() {\n  if (isMobile.opera()) $('.videoBg, .indexBg').remove();\n})();\n","/*======================================================\n  FORMS\n======================================================*/\n$(document).ready(function() {\n\n  function checkField(elem) {\n    elem.removeClass('fieldValid').removeClass('fieldError');\n\n    if (elem.val() === '' || elem.val() === ' ') return false;\n    // if (!isNaN(parseInt(elem.val()))) return false;\n    if (elem.val().length < 2) return false;\n    if (elem.is('[type=checkbox]') && elem.is(':checked') === false) return false;\n    if (elem.is('[type=radio]') && elem.is(':checked') === false) return false;\n    return true;\n  }\n\n  function removeError(elem) {\n    setTimeout(function() {\n      elem.removeClass('fieldError fieldValid');\n    }, 5000);\n  }\n\n  // Feedback Form\n  //=======================================================\n  $('.feedbackForm').on('submit', function(e) {\n    var\n      $blockForm = $('.feedbackForm-wrap'),\n      $fields = $('.feedbackForm-input'),\n      $name = $(this).find('[type=text]'),\n      $mail = $(this).find('[type=email]'),\n      $reset = $(this).find('[type=reset]'),\n      $storageName = localStorage.getItem('name'),\n      $storageMail = localStorage.getItem('mail');\n\n    if ($storageName) $name.value = $storageName;\n    if ($storageMail) $mail.value = $storageMail;\n\n    $fields.each(function(i) {\n      if (!checkField($(this))) {\n        e.preventDefault();\n        $(this).addClass('fieldError');\n\n        $blockForm.addClass('formError');\n        setTimeout(function() {\n          $blockForm.removeClass('formError');\n        }, 600);\n\n      } else {\n        $(this).removeClass('fieldError');\n        $(this).addClass('fieldValid');\n\n        localStorage.setItem('name', $name.value);\n        localStorage.setItem('mail', $mail.value);\n      }\n    });\n\n    $reset.on('click', function() {\n      $fields.each(function(i) {\n        $(this).removeClass('fieldError fieldValid');\n      });\n    });\n\n    removeError($fields);\n  });\n\n\n  //Login Form\n  //=======================================================\n  $('.entryForm').on('submit', function(e) {\n    var\n      $blockForm = $('.flip-entry'),\n      $fields = $('.entryForm-input, .entryForm-check, .question-radio#radio-1'),\n      $login = $(this).find('[type=text]'),\n      $storageLogin = localStorage.getItem('login');\n\n    if ($storageLogin) $login.value = $storageLogin;\n\n    $fields.each(function(i) {\n\n      if (!checkField($(this))) {\n        e.preventDefault();\n        $(this).addClass('fieldError');\n\n        $blockForm.addClass('formError');\n        setTimeout(function() {\n          $blockForm.removeClass('formError');\n        }, 600);\n\n      } else {\n        $(this).removeClass('fieldError');\n        $(this).addClass('fieldValid');\n\n        localStorage.setItem('login', $login.value);\n      }\n    });\n\n    removeError($fields);\n  });\n\n});\n","/*======================================================\n  MAP\n======================================================*/\nfunction initMap() {\n  var $mapElement = document.getElementById(\"map\");\n  if (!$mapElement) return;\n\n  var $mapOptions = {\n    zoom: 12,\n    scrollwheel: false,\n    center: new google.maps.LatLng(50.43, 30.6, 18),\n    styles: [{\n      \"featureType\": \"administrative\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [{\n        \"color\": \"#444444\"\n      }]\n    }, {\n      \"featureType\": \"landscape\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"color\": \"#f2f2f2\"\n      }]\n    }, {\n      \"featureType\": \"poi\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"road\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"saturation\": -100\n      }, {\n        \"lightness\": 45\n      }]\n    }, {\n      \"featureType\": \"road.highway\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"simplified\"\n      }]\n    }, {\n      \"featureType\": \"road.arterial\",\n      \"elementType\": \"labels.icon\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"transit\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"water\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"color\": \"#4369aa\"\n      }, {\n        \"visibility\": \"on\"\n      }]\n    }]\n  };\n\n  if (isMobile.any()) $mapOptions.center = new google.maps.LatLng(50.45, 30.65, 18);\n\n  var\n    $map = new google.maps.Map($mapElement, $mapOptions),\n    $marker = new google.maps.Marker({\n      position: new google.maps.LatLng(50.412, 30.67, 0),\n      map: $map,\n      icon: {\n        url: \"img/marker.svg\"\n      },\n      scaledSize: google.maps.Size(44, 54),\n      animation: google.maps.Animation.BOUNCE\n    });\n};\n","/*======================================================\n  PRELOADER\n======================================================*/\n$(document).ready(function() {\n  $('.preloader').removeClass('preloader-noJs');\n  $('body').css('overflow', 'hidden');\n  $('body').bind('touchmove', function(e) {\n    e.preventDefault();\n  });\n\n  var $imgs = [];\n\n  $.each($('*'), function() {\n    var\n      $this = $(this),\n      $background = $this.css('background-image'),\n      $img = $this.is('img');\n\n    if ($background != 'none') {\n      var $path = $background.replace('url(\"', '').replace('\")', '');\n      $imgs.push($path);\n    }\n    if ($img) {\n      var $path = $this.attr('src');\n      if ($path) $imgs.push($path);\n    }\n  });\n\n  var \n    $percents = 1,\n    $lastRealPercent = 0;\n\n  for (var i = 0; i < $imgs.length; i++) {\n    var $image = $('<img>', {\n      attr: {\n        src: $imgs[i]\n      }\n    });\n\n    $image.load(function() {\n      setPercents($imgs.length, $percents);\n      $percents++;\n    });\n  }\n\n  function setPercents(total, current) {\n    var $percent = Math.ceil(current / total * 100);\n\n    var $iterator = setInterval(function() {\n      if ($lastRealPercent >= $percent) {\n        clearInterval($iterator);\n        $iterator = null;\n        return;\n      }\n\n      var $dash = Math.ceil(316 - $lastRealPercent * 1.58);\n      $('.circle-bar').css({\n        'stroke-dashoffset': $dash + 'px'\n      });\n      $('.circle-txt').text($lastRealPercent);\n\n      if ($percent >= 100) $('.circle-small').css('animation-iteration-count', '1');\n\n      $lastRealPercent++;\n    }, 5);\n  }\n});\n\n$(window).load(function() {\n  $('body').css('overflow', 'visible');\n  $('body').unbind('touchmove');\n\n  $('.preloader-inner').fadeOut(1000, function () {\n    $('.preloader').css('display', 'none');\n  });\n});\n","/*======================================================\n  SCROLLBAR\n======================================================*/\n(function() {\n  var\n    $sidebar = $('.sidebar'),\n    $sidebarBtn = $('.sidebar-btn'),\n    $articles = $('.blogContent article'),\n    $links = $('.sidebar a');\n\n\n  $sidebarBtn.on('click', function(e) {\n    e.preventDefault();\n    $sidebar.toggleClass('sidebar--show');\n    $sidebarBtn.toggleClass('sidebar-btn--move');\n  });\n\n  $(document).click(function(e) {\n    if ($(e.target).parents().filter($sidebar).length != 1 && !$(e.target).hasClass('sidebar-btn')) {\n      $sidebar.removeClass('sidebar--show');\n      $sidebarBtn.removeClass('sidebar-btn--move');\n    }\n  });\n\n\n  function checkArticle() {\n    $articles.each(function() {\n      var\n        $this = $(this),\n        $top = $this.offset().top - 350,\n        $bottom = $top + $this.height(),\n        $scroll = $(window).scrollTop();\n\n      if ($top < $scroll && $bottom > $scroll) {\n        var\n          $focus = $this.data('article'),\n          $linkData = $links.filter('[href=\"#' + $focus + '\"]');\n\n        $linkData.addClass('active').parent().siblings().children().removeClass('active');\n      }\n    })\n  };\n\n  $(window).scroll(function() {\n    checkArticle();\n    var\n      $list = $sidebar.find('ul'),\n      $scroll = $(window).scrollTop();\n\n    if ($sidebar.length > 0) {\n      if (($scroll) > $sidebar.offset().top - 100) $list.addClass('sidebar--fixed');\n      else $list.removeClass('sidebar--fixed');\n    }\n  });\n\n\n  function showArticle(articleData, isAnimate) {\n    var\n      $direction = articleData.replace(/#/, ''),\n      articleData = $articles.filter('[data-article=\"' + $direction + '\"]'),\n      $articlePos = articleData.offset().top;\n\n    if (isAnimate) {\n      $('body, html').animate({\n        scrollTop: $articlePos\n      }, 500);\n    } else $('body, html').scrollTop($articlePos);\n  };\n\n  $links.on('click', function(e) {\n    e.preventDefault();\n    showArticle($(this).attr('href'), true);\n  });\n\n})();\n","/*======================================================\n  SLIDER\n======================================================*/\n(function() {\n  var\n    $nextBtn = $('.slider-btn--next'),\n    $prevBtn = $('.slider-btn--prev'),\n    $slideItemRight = $prevBtn.find('.slider-item'),\n    $slideItemLeft = $nextBtn.find('.slider-item'),\n    $mainSlide = $('.slider-mainPic'),\n    $currentSlideIndex = 0;\n\n  function changeMainPic(slideItems) {\n    var $nextImgSrc = slideItems.eq($currentSlideIndex).find('img').attr('src');\n\n    $mainSlide.fadeOut(function() {\n      $mainSlide.attr('src', $nextImgSrc);\n      $(this).fadeIn();\n    });\n  }\n\n  function slideInLeftPreview(slideItems) {\n    var $nextImgIndex;\n\n    if ($currentSlideIndex + 1 >= slideItems.length) $nextImgIndex = 0;\n    else $nextImgIndex = $currentSlideIndex + 1;\n\n    slideItems.filter('.slider-item--active').removeClass('slider-item--active');\n    slideItems.eq($nextImgIndex).addClass('slider-item--active');\n  }\n\n  function slideInRightPreview(slideItems) {\n    var $nextImgIndex;\n\n    if ($currentSlideIndex == 0) $nextImgIndex = slideItems.length - 1;\n    else $nextImgIndex = $currentSlideIndex - 1;\n\n    slideItems.filter('.slider-item--active').removeClass('slider-item--active');\n    slideItems.eq($nextImgIndex).addClass('slider-item--active');\n  }\n\n  function changeSlide(e) {\n    e.preventDefault();\n    var $this = $(this);\n\n    if ($this.hasClass('slider-btn--prev')) {\n\n      if ($currentSlideIndex - 1 < 0) $currentSlideIndex = $slideItemRight.length - 1;\n      else $currentSlideIndex = $currentSlideIndex - 1;\n\n    } else if ($this.hasClass('slider-btn--next')) {\n\n      if ($currentSlideIndex + 1 > $slideItemRight.length - 1) $currentSlideIndex = 0;\n      else $currentSlideIndex = $currentSlideIndex + 1;\n    }\n\n    changeMainPic($slideItemRight);\n    slideInLeftPreview($slideItemLeft);\n    slideInRightPreview($slideItemRight);\n  }\n\n  function changeDesc(elem) {\n    if (elem.is($prevBtn) && elem.find('li.slider-item--active')) {\n      var $current = $('.slider-info.slider-info--active');\n\n      if ($current) {\n        if ($current.prev().length === 0) $('.slider-info').last().addClass('slider-info--active').siblings().removeClass('slider-info--active');\n\n        $current.prev().addClass('slider-info--active').siblings().removeClass('slider-info--active');\n      }\n    }\n    if (elem.is($nextBtn) && elem.find('li.slider-item--active')) {\n      var $current = $('.slider-info.slider-info--active');\n\n      if ($current) {\n        if ($current.next().length === 0) $('.slider-info').first().addClass('slider-info--active').siblings().removeClass('slider-info--active');\n\n        $current.next().addClass('slider-info--active').siblings().removeClass('slider-info--active');\n      }\n    }\n  }\n\n\n  $(document).ready(function() {\n    $nextBtn.on('click', changeSlide);\n    $nextBtn.on('click', function() {\n      changeDesc($(this));\n    });\n    $prevBtn.on('click', changeSlide);\n    $prevBtn.on('click', function() {\n      changeDesc($(this));\n    });\n  });\n\n})();\n"]}