var overlay=document.querySelector(".overlay"),linkLogin=document.querySelector(".user-login"),login=document.querySelector(".modalLogin"),closeLogin=login.querySelector(".modalLogin-btnClose"),form=document.querySelector(".login-signUpForm"),fieldLogin=login.querySelector("[name=login]"),fieldPass=login.querySelector("[name=password]"),storage=localStorage.getItem("login"),linkMap=document.querySelector(".linkMap"),linkMap1=document.querySelector(".linkMap1"),map=document.querySelector(".modalMap"),closeMap=map.querySelector(".modalMap-btnClose")
overlay.addEventListener("click",function(){overlay.classList.remove("showOverlay"),map.classList.remove("showModalMap"),login.classList.remove("showModalLogin"),login.classList.remove("errorModalLogin")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(overlay.classList.contains("showOverlay")||login.classList.contains("showModalLogin")||map.classList.contains("showModalMap"))&&(overlay.classList.remove("showOverlay"),map.classList.remove("showModalMap"),login.classList.remove("showModalLogin"),login.classList.remove("errorModalLogin"))}),linkLogin.addEventListener("click",function(e){e.preventDefault(),overlay.classList.add("showOverlay"),login.classList.add("showModalLogin"),storage?(fieldLogin.value=storage,fieldPass.focus()):fieldLogin.focus()}),closeLogin.addEventListener("click",function(e){e.preventDefault(),overlay.classList.remove("showOverlay"),login.classList.remove("showModalLogin"),login.classList.remove("errorModalLogin")}),form.addEventListener("submit",function(e){fieldLogin.value&&fieldPass.value?localStorage.setItem("login",fieldLogin.value):(e.preventDefault(),login.classList.remove("errorModalLogin"),login.offsetWidth=login.offsetWidth,login.classList.add("errorModalLogin"))}),closeMap.addEventListener("click",function(e){e.preventDefault(),overlay.classList.remove("showOverlay"),map.classList.remove("showModalMap")}),linkMap.addEventListener("click",function(e){e.preventDefault(),overlay.classList.add("showOverlay"),map.classList.add("showModalMap")}),linkMap1.addEventListener("click",function(e){e.preventDefault(),overlay.classList.add("showOverlay"),map.classList.add("showModalMap")})
