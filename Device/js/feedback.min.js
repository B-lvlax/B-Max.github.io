"use strict";const msgFormBtn=document.querySelector(".js-msgFormBtn"),msgForm=document.querySelector(".js-msgForm"),msgFormFields=msgForm.querySelectorAll(".js-msgFormField"),msgFormName=msgFormFields[0],msgFormMail=msgFormFields[1],msgFormTxt=msgFormFields[2];let isValid=!0,storageName="",storageMail="",isStorage=!0;try{storageName=localStorage.getItem("name"),storageMail=localStorage.getItem("mail")}catch(e){isStorage=!1}function checkField(e){e.value?(e.classList.remove("invalid"),isValid=!0):(e.classList.add("invalid"),isValid=!1)}msgFormBtn.addEventListener("click",function(e){e.preventDefault(),showModals(msgForm),msgForm.setAttribute("novalidate",!0),isStorage?(msgFormName.value=storageName,msgFormMail.value=storageMail,msgFormTxt.focus()):msgFormName.focus()}),msgForm.addEventListener("submit",function(e){msgFormFields.forEach(function(e){checkField(e)}),isValid?isStorage&&(localStorage.setItem("name",msgFormName.value),localStorage.setItem("mail",msgFormMail.value)):(e.preventDefault(),msgForm.classList.remove("error"),msgForm.offsetWidth,msgForm.classList.add("error"))});